<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html;charset=utf-8">
    <title>Polymaps - Affine Transform</title>
    <script type="text/javascript" src="{{url_for('static', filename='js/jquery-2.1.0.min.js')}}"></script>
    <script type="text/javascript" src="{{url_for('static', filename='js/polymaps.min.js')}}"></script>
    <style type="text/css"m>
    </style>
</head>
<body>
    {{ servers }}
    <div id="map">
    </div>
    <script type="text/javascript">
        var po = org.polymaps;
        var svg = po.svg("svg");
        svg.setAttribute("width", 800);
        svg.setAttribute("height", 600);
        document.getElementById("map").appendChild(svg);
        var map = po.map()
            //.container(document.getElementById("map").appendChild(po.svg("svg")))
            .container(svg)
            .zoomRange([1, 32])
            .zoom(10)
            .size({'x': 800, 'y': 600}) 
            //.zoom(1)
            .add(po.interact());
        //
            map.add(po.image()
                .url(po.url("http://{S}/{Z}/{X}/{Y}").hosts({{servers|tojson|safe}}))
                //.zoom(function(z) {return Math.max(8, z);})
                );
    </script>
</body>
</html>
